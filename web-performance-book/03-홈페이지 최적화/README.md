# 3장 홈페이지 최적화

## 실습 내용 소개

분석할 페이지는 홈페이지로 롱보드(long-board)를 소개하는 사이트로 총 4개의 페이지로 구성

메인 페이지를 중심으로 최적화를 진행할 예정이다

## 학습할 최적화 기법

- 이미지 지연 로딩
- 이미지 사이즈 최적화
- 폰트 최적화
- 캐시 최적화
- 불필요한 CSS 제거

### 이미지 지연 로딩

앞서 당장 사용하지 않는 컴포넌트 코드를 분할하여 초기 로드 속도를 높이는 컴포넌트 지연 로딩 기법을 적용

이와 비슷하게 첫 화면에 필요하지 않은 이미지가 먼저 로드되지 않도록 지연

=> 사용자에게 가장 먼저 보이는 컨텐츠를 더 빠르게 로드

### 이미지 사이즈 최적화

앞에서 이미지 사이즈 최적화를 진행했는 이미지가 CDN에서 로드됐기 때문에 url만 수정해 쉽게 이미지 사이즈 조절이 가능

CDN에 있는 이미지가 아닌 서버

### 폰트 최적화

서비스에서 커스텀 폰트를 적용하려고 한다면 몇 가지 성능 문제를 야기할 수 있다

따라서 커스텀 폰트를 적용할 때 발생하는 문제를 알아보고 최적화를 적용해보자

### 캐시 최적화

캐시란?

자주 사용되는 리소스를 브라우저에서 저장해두고, 다음번에 사용하려고 할 때 새로 다운로드하지 않고 저장되어 있는 것을 사용하는 기술

### 불필요한 CSS 제거

사용하지 않은 CSS 코드가 서비스 코드에 포함되어 있는 경우 해당 코드를 제거하여 파일 사이즈를 줄이는 방법

### 분석 툴

**크롬 개발자 도구의 Converage 패널**

![image](https://github.com/user-attachments/assets/d4892b29-8dc7-4125-8ab4-e5e5969fec08)

웹 페이지를 렌더링하는 과정에서 어떤 코드가 실행되는 지를 보여준다

각 파일의 코드가 얼마나 실행됐는 지 비율로 나타낸다

=> 특정 파일에서 극히 일부의 코드만 실행되었다면, 즉 퍼센티지가 낮다면 해당 파일에 불필요한 코드가 많이 포함되어 있다!!

**Squoosh**

웹에서 서비스되는 이미지 압축 도구

웹에서 간편하게 이미지의 포멧이나 사이즈를 변경할 수 있다

**PurgeCSS**

PurgeCSS는 사용하지 않는 CSS를 제거하는 툴

npm에 등록되어 있으며, 직접 CLI를 통해 실행할 수도 있고 webpack과 같은 번들러에서 플러그인으로 추가하여 사용 가능

### 서비스 탐색

```
{
  ... 생략 ...
  "scripts": {
    "start": "npm run build:style && react-scripts start",
    "build": "npm run build:style && react-scripts build",
    "build:style": "postcss src/tailwind.css -o src/styles.css",
  ... 생략 ...
}
```

이 서비스에서 Tailwind CSS 라는 프레임워크를 사용하고 있다

npm run build:style 명령어에 있는 스크립트를 실행하면 TailwindCSS를 이용하여 서비스의 스타일을 만든다

해당 명령어는 tailwind.js 파일에서 정의한 설정대로 tailwind.css 파일로 새로운 CSS(src/styles.css)를 만들어준다

`postcss.config.js`는 tailwind.css 를 style.css 로 빌드하기 위한 postcss 설정이며 `tailwind.js` 는 tailwind의 설정 파일이다

또한,

메인 페이지에서 `BannerVideo` 컴포넌트에서 많은 이미지를 렌더링하고 있다

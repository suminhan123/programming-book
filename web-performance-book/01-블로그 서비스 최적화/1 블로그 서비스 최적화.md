# 1장 블로그 서비스 최적화

## 학습할 최적화 기법

- 이미지 사이즈 최적화 -> 로딩 성능
- 코드 분할 -> 로딩 성능
- 텍스트 압축 -> 로딩 성능
- 병목 코드 최적화 -> 렌더링 성능

### 이미지 사이즈 최적화

너무 큰 사이즈의 이미지 사용 => 네트워크 트래픽이 증가해 서비스 로딩이 올래 걸림

너무 작은 사이즈의 이미지 사용 => 이미지 화질이 저하되어 서비스 이용이 불편

어떤 이미지 사이즈가 적절한지를 파악할 수 있어야 함!

### 코드 분할

코드를 분할하는 기법

SPA(single page application)의 특성상 **모든 리액트 코드가 하나의 자바스크립트 파일로 번들링되어 로드**되기 때문에 첫 페이지 진입시 사용하지 않는 코드가 다소 포함

=> 코드 분할을 통해 당장은 필요없는 코드를 떼어 내고 해당 코드를 필요한 시점에 따로 로드

### 텍스트 압축

웹 페이지에 접속하면 다양한 리소스 html, css, js 내려 받는다.
다운로드 전에 서버에서 미리 압축 가능

=> 더 작은 사이즈로 다운로드할 수 있어 웹페이지가 더 빠르게 로드

### 병목 코드 최적화

서비스를 느리게 만드는 코드 : 병목 코드

### Lighthouse 검사 결과

![image](https://github.com/suminhan123/programming-book/assets/98216274/468ef259-9ead-4885-9c62-e863a1769f55)
5 : lighthouse 가 측정한 이 웹 페이지의 종합 성능 점수

=> 아래 6가지 지표에 가중치를 적용해 평균 낸 점수 (이러한 지표를 웹 바이탈)

#### First Contentful Pain(FCP)

페이지가 로드될 때 브라우저가 DOM 컨텐츠의 첫 번째 부분을 렌더링하는 데 걸리는 시간에 관한 지표

#### Speed Index(SI)

SI는 페이지 로드 중에서 시각적으로 표시되는 속도를 나타내는 지표
![image](https://github.com/suminhan123/programming-book/assets/98216274/c53ca690-bfe1-40c9-b09a-d0ad59306515)

A와 B 페이지를 각각 로드했을 때 모두 전체 화면이 표시되는 데 4초라는 동일한 시간이 걸림
=> A 페이지는 일부 컨텐츠가 B 페이지보다 먼저 떴음
=> A 페이지가 B 페이지보다 더 빨리 로드된 것으로 계산해 더 높은 점수를 받음

#### Largest Contentful Pain(LCP)

페이지가 로드될 때 화면 내에 있는 가장 큰 이미지나 텍스트 요소가 렌더링되기 까지 걸리는 시간

#### Time to Interactive(TTI)

사용자가 페이지와 상호 작용이 가능한 시점까지 걸리는 시간을 측정한 지표

상호작용 : 클릭 또는 키보드 누름 같은 사용자 입력

#### Total Blocking Time(TBT)

페이지가 클릭, 키보드 입력 등의 사용자 입력에 응답하지 않도록 차단된 시간을 종합한 지표

측정은 FCP와 TTI 사이의 시간 동안 일어나며 메인 스레드를 독점하여 다른 동작을 방해하는 작업에 걸린 시간을 총합

#### Cumulative Layout Shift(CLS)

페이지 로드 과정에서 발생하는 예기치 못한 레이아웃 이동을 측정한 지표

레이아웃 이동 : 화면 상에서 요소의 위치나 크기가 순간적으로 변하는 것

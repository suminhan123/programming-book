## 1.2 테스트를 작성해야 하는 이유

### 1. 사업의 신뢰성

버그는 서비스의 이미지를 추락

=> **테스트 코드가 예상하지 못한 버그를 초기에 발견해 서비스 이미지를 지켜주는 역할**을 수행

BFF는 인증(authentication), 인가(authorization)와 같은 버그가 있을 경우 치명적인 보안 기능을 주로 담당

ui 나 시스템의 버그는 서비스 이미지와 직결

### 2. 높은 유지 보수성

같은 코드가 여러 곳에 반복적으로 작성해야 하는 상황이 존재하는데 **공통으로 사용할 수 있는 모듈을 만드는 리팩토링이 필요**

=> 테스트 코드가 있다면 기존 기능에 문제가 생겼는 지 반복적으로 확인 가능해 적극적으로 리팩토링을 진행할 수 있다

개발은 **수많은 라이브러리에 의존**할 수 밖에 없어 라이브러리를 업데이트할 때도 코드를 수정!

=> **Dependabot 을 사용**하면 의존하는 라이브러리 업데이터됐을 때 발생할 수 있는 취약성을 자동으로 검사해 pr 을 만들어준다

=> 하지만 Dependabot 이 모든 취약성을 걸러주는 것이 X!!

작성해놓은 테스트 코드가 있다면 마이너 업데이트는 테스트를 통과하면 병합할 수 있다 같은 원칙 필요

### 3. 코드 품질 향상

- 테스트 코드는 **구현 코드의 품질을 되돌아보도록** 한다

일부 책임을 더 작은 부분으로 나눌 수 있는 지 재검토해 더 좋은 코드를 작성할 수 있다!

ex) 렌더링 분기 처리, 유효성 검사, 비동기 처리, 갱신 처리 등 많은 책임을 가진 UI 컴포넌트가 있다고 가정

=> 해당 컴포넌트를 테스트 하려면 어떻게 테스트를 할지가 막막..

**하나의 책임만 가지는 컴포넌트로 분리**하면 구현 코드의 책임을 파악하기 쉽고 테스트 작성도 쉬워진다

- 테스트 코드는 **웹 접근성을 높이는 데에도 기여**한다

> 웹 접근성이란?
>
> 신체적, 정신적 특성에 따른 차이없이 동등하게 정보에 접근할 수 있어야 한다

UI 컴포넌트는 테스트 시 웹 접근성에서 유래한 API로 테스트 대상을 선택할 때가 많다

=> 웹 접근성을 지키지 않으면 원하는 테스트 대상을 편하게 얻지 X

### 4. 원활한 협업

팀 단위 개발에서 코드가 제대로 작동하는 지 확인하려면 상당한 시간을 할애해야 하며, 프로젝트 전반을 파악하는 데 많은 시간이 필요!

테스트 코드는 **글로 작성된 문서보다 우수한 사양서**다

=> 테스트에는 제목이 있어, **테스트할 구현 코드가 어떤 기능을 제공하고 어떤 방식으로 작동하는 파악 가능**

서양서 대로 구현됐는 지 테스트 코드로 확인할 수 있다

=> 사양서와 테스트 코드를 비교하며 코드를 확인하며 리뷰어의 부담이 줄어든다

=> CI(continuous integration)을 통과한 후 리뷰를 요청하는 규칙이 있다면 리뷰와 수정을 거듭하는 시간을 줄일 수 있다

### 5. 회귀 테스트 줄이기

**테스트 자동화**는 **회귀 테스트를 줄이는 최적의 방법!**

모듈을 작게 나누면 책임이 줄고 테스트 하기 쉬워진다

=> 하지만 모듈이 많아져 나눠진 **모듈을 조합하는 과정에서 의존성이 생기고**, 의존 중이 모듈이 바뀔 때마다 **자주 회귀 테스트를 수행**

모듈(UI 컴포넌트)의 조합으로 만들어진 기능의 테스트는 통합 테스트를 통해 알아보자

단위 테스트가 있어도 시각적 결과물에는 회귀 테스트가 필요

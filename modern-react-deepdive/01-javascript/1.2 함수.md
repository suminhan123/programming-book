# 1.2 함수

### 함수란

작업을 수행하거나 값을 계산하는 등의 과정을 표현하고 이를 하나의 블록으로 감싸서 실행단위로 만들어 놓을 것

### 함수를 정의하는 4가지 방법

#### 1. 함수 선언문

함수 선언문은 표현식이 아닌 일반문으로 분류
표현식이란 무언가 값을 산출하는 구문을 의미

```typescript
function add(a, b) {
  return a + b;
}
```

sum 이라는 변수에 함수 sum 을 할당하는 방식

=> 자바스크립트 엔진이 코드의 문맥에 따라 동일한 함수를 문이 아닌 표현식으로 해석하는 경우가 있음

```typescript
const sum = function sum(a, b){
  return a + b
}
sum(10. 24)
```

#### 2. 함수 표현식

> 일급 객체: 다른 객체들에 일반적으로 적용 가능한 연산을 모두 지원하는 객체를 의미
> 자바스트립트에서 함수는 일급 객체이다.

함수가 일급 객체이므로 함수를 변수에 할당하는 것이 가능

```typescript
const sum = function (a, b) {
  return a + b;
};
sum(10, 24);
```

함수 표현식에서 할당하려는 함수의 이름을 생략하는 것이 일반적 => 코드에서 외부 호출 시에 사용할 수 없는 식별자로 혼란을 줄 수 있음

#### 함수 표현식과 선언 식의 차이

이 두가지 방식의 가장 큰 차이는 **호이스팅** 여부이다.

함수의 호이스팅은 함수에 대한 선언을 실행하기 전에 미리 메모리에 등록하는 작업을 의미

특징 덕분에 아래 예제와 같이 함수 선언문이 미리 메모리에 등록했고, 코드의 순서에 상관없이 정상적으로 호출 가능

```typescript
hello(); // hello
function hello() {
  console.log("Hello");
}
hello(); // hello
```

함수 선언문과 다르게 변수는 런타임 이전에 undefined 로 초기화되고, 할당문이 실행되는 시점 런타임 시점에 함수가 할당되어 작동

```typescript
console.log(typeof hello === "undefined"); // true
hello(); // error
var hello = function () {
  console.log("Hello");
};
hello();
```

함수를 자유롭게 선언하고 어디서든 자유롭게 호출하고 싶거나, 명시적으로 함수를 구별하고 싶을 때는 함수 선언문!

이는 함수가 위치에 상관없이 어디서든 호출할 수 있음

그러나 함수를 어디서 어떻게 선언했는 지에 대한 해당 스코프를 확인이 필요

=> 프로젝트의 상황에 맞는 작성법을 일관되게 사용!

#### 3. Function 생성자

Function 생성자를 활용하는 방법
생성자 방식으로 함수를 만들게 되면 함수의 클로저 또한 생성되지 X
=> 권장하지는 않는다

```typescript
const add = new Function("a", "b", "return a + b");
```

### 4. 화살표 함수

```typescript
const add = (a, b) => {
  return a + b;
};
```

화살표 함수와 일반 함수의 가장 큰 차이점은 바로 this 바인딩이다.

화살표 함수는 this 가 선언되는 시점에 이미 상위 스코프에 결정돼 있어 받아와 사용

일반 함수는 호출되는 런타임 시점에 결정되는 this 를 그대로 따른다.

#### 5. 즉시 실행함수

함수를 정의하고 그 순간 즉시 실행하는 함수를 의미
단 한번만 호출되고, 다시금 호출할 수 없는 함수

함수 선언과 실행이 바로 그 자리에서 끝나기 때문에 즉시 실행함수 내부에 있는 값은 그 함수 내부가 아니고서는 접근이 불가능

```typescript
((a, b) => {
  return a + b;
})(10, 24);

(function (a, b) {
  return a + b;
})(10, 24);
```

#### 6. 고차함수

함수가 일급 객체라는 특징을 활용하면 함수를 인수로 받거나 결과로 새로운 함수를 반환시킬 수 있음 이런 역할을 하는 함수

```typescript
const doubleArray = [1, 2, 3].map((i) => i * 2);

const add = function (a) {
  // a가 존재하는 클로저를 생성
  return function (b) {
    return a + b;
  };
};
```

### 함수를 만들때 주의해야할 사항

#### 1. 함수의 부수 효과를 최대한 억제해라

> 부수 효과란 함수 내의 작동으로 인해 함수가 아닌 함수 외부에 영향을 끼치는 것

api 호출, console.log(), HTML 문서 title 바꾸기 .. 등등의 부수효과를 최대한 줄인 함수를 작성
=> 언제 실행하든 항상 결과가 동일하기에 예측 가능하며 안정적

#### 2. 가능한 한 함수를 작게 만들어라

하나의 함수에서 너무나 많은 일을 하지 않게 해야함
함수의 원래 목적인 재사용성을 높일 수 있는 방법

#### 3. 누구나 이해할 수 있는 이름을 붙여라

가능한 한 함수 이름은 간결하고 이해하기 쉽게 붙이는 것이 좋다
